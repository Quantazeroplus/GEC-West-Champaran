# GEC-West-Champaran
Secure CSE Cyber Security attendance portal featuring geofencing, time-synced tokens, and unique device IDs to stop proxies. Includes an admin dashboard for dynamic notices, holiday-skipping logic, and automated email notifications for student absence‚Äîall powered by Google Apps Script and GitHub Pages.
# üéì GEC WC | Smart Attendance Portal
![Security](https://img.shields.io/badge/Security-Geofenced-blue)
![Platform](https://img.shields.io/badge/Platform-Google%20Apps%20Script-green)
![License](https://img.shields.io/badge/License-MIT-yellow)

A secure, GPS-verified attendance system developed for **GEC WC (CSE Cyber Security)**. This project leverages multi-factor validation to eliminate proxy attendance and automate classroom management.

---

## üõ°Ô∏è Anti-Proxy & Security Measures

This portal is built on "Zero-Trust" principles, using three distinct layers to ensure database integrity:

1. **Server-Side Geofencing:** Unlike standard apps, location is validated on the server using the **Haversine Formula**. If a student is >25m from the classroom, the server rejects the entry‚Äîeven if the frontend is bypassed.
2. **Cryptographic Device Fingerprinting:** Every physical device is assigned a unique digital ID stored in local storage. The system automatically flags duplicate submissions from the same device in **Red** within the administrator dashboard.
3. **Time-Synchronized Tokens:** All submissions require a Base64-encoded token generated using a private salt and the current system minute. This prevents students from sharing the attendance link with others outside the classroom.

---

## ‚öôÔ∏è Automated Administration

* **Dynamic Notice Board:** Admins can post messages, syllabus PDFs, or external links directly from a Google Sheet.
* **Auto-Expiry Logic:** Notices and document links automatically disappear at a user-defined date and time.
* **Absence Watchman:** A daily "Cron-Job" script scans logs at midnight and sends automated email alerts to students absent for 3 consecutive days.
* **Holiday Intelligence:** The system automatically skips Sundays and custom-defined holidays to prevent false absence alerts.

---

## üõ†Ô∏è Technical Architecture



- **Frontend:** HTML5, Tailwind CSS, Leaflet.js (Mapping), FontAwesome.
- **Backend:** Google Apps Script (JavaScript Engine).
- **Database:** Google Sheets API.
- **Hosting:** GitHub Pages (HTTPS forced for GPS security).

---

## üöÄ Student Workflow

1. **Scan:** Open the portal via the classroom QR code.
2. **Verify:** Grant GPS permissions (required for proximity validation).
3. **Notify:** View any active admin notices or download shared documents.
4. **Submit:** Enter Roll Number. Returning users' data will auto-populate via a cloud lookup.
5. **Confirm:** Receive a haptic (vibration) and visual confirmation of successful logging.

---

## üìä Administrator Setup

| Task | Location |
| :--- | :--- |
| **View Attendance** | `ClassroomLogs` Tab (Check Red Rows for proxies) |
| **Update Notice** | `AdminConfig` Tab (Edit Message & Link) |
| **Set Expiry** | `AdminConfig` Tab (Set Date/Time in B5) |
| **Add Holidays** | `Holidays` Tab (List dates in Column A) |

---


## üìê Mathematical Logic & Security Proofs

To maintain high database integrity, the system utilizes the following mathematical models for verification:

### 1. The Haversine Formula (Proximity Validation)
To calculate the distance between the student's mobile device ($P_1$) and the classroom center ($P_2$), we implement the Haversine formula. This accounts for the Earth's curvature to provide sub-meter accuracy.

Let:
* $\phi$ = Latitude
* $\lambda$ = Longitude
* $R$ = Earth's radius (mean radius = 6,371 km)

The distance $d$ is calculated as:

$$a = \sin^2\left(\frac{\Delta\phi}{2}\right) + \cos(\phi_1) \cdot \cos(\phi_2) \cdot \sin^2\left(\frac{\Delta\lambda}{2}\right)$$
$$c = 2 \cdot \operatorname{atan2}(\sqrt{a}, \sqrt{1-a})$$
$$d = R \cdot c$$

The server grants access only if $d \le 25 \text{ meters}$.

---

### 2. Time-Synchronized Token Verification
To prevent link-sharing, the system generates a cryptographic hash based on the current system time. The token $T$ is valid only within a 3-minute window $(t-1, t, t+1)$ to account for network latency.

$$T = \text{Base64}\left( \text{Truncate}(\text{HMAC}(\text{Time}_{\text{min}}, \text{Salt})) \right)$$

This ensures that even if a URL is intercepted, it becomes mathematically obsolete within 60-120 seconds.

---

### 3. Device Fingerprint Entropy
The unique Device ID is generated by combining browser headers and a random salt, ensuring that the probability of two different devices generating the same ID is near zero:

$$P(\text{collision}) \approx \frac{1}{2^{128}}$$

This allows the system to cross-reference entries and flag "Duplicate Fingerprints" in the logs.

**Developed for:** Government Engineering College (West Champaran)  
**Department:** CSE Cyber Security